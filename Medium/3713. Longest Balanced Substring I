class Solution {

    boolean all_equal_frequency(Map<Character,Integer>freq)
    {
        Set<Integer> val=new HashSet<>(freq.values());
        return val.size()==1;
    }
    public int longestBalanced(String s) {

        int l = s.length();
        int ans=0;
        for (int start = 0; start < l; start++) {
            Map<Character, Integer> freq = new HashMap<>();
            for (int end = start; end < l; end++) {
                char c = s.charAt(end);
                freq.put(c, freq.getOrDefault(c, 0) + 1);

                if(all_equal_frequency(freq))
                {
                    ans=Math.max(ans,end-start+1);
                }
            }
        }
        return ans;
    }
}
